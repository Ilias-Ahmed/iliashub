@import "tailwindcss";

/* Optimized CSS Custom Properties */
:root {
  /* Base semantic colors */
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --destructive-foreground: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);

  /* Enhanced accent color system */
  --accent-purple-hsl: 267.1 84% 58.8%;
  --accent-purple-rgb: 139, 92, 246;
  --accent-blue-hsl: 213.1 93.9% 67.8%;
  --accent-blue-rgb: 59, 130, 246;
  --accent-pink-hsl: 326.8 85.4% 60.8%;
  --accent-pink-rgb: 236, 72, 153;
  --accent-green-hsl: 142.1 76.2% 36.3%;
  --accent-green-rgb: 16, 185, 129;
  --accent-orange-hsl: 24.6 95% 53.1%;
  --accent-orange-rgb: 245, 158, 11;

  /* Dynamic accent variables */
  --accent-current-hsl: var(--accent-purple-hsl);
  --accent-current-rgb: var(--accent-purple-rgb);
  --accent-current: hsl(var(--accent-current-hsl));

  /* Component-specific variables */
  --radius: 0.625rem;
}

/* Accent color variations */
:root[data-accent="purple"] {
  --accent-current-hsl: var(--accent-purple-hsl);
  --accent-current-rgb: var(--accent-purple-rgb);
  --primary: hsl(var(--accent-purple-hsl));
}

:root[data-accent="blue"] {
  --accent-current-hsl: var(--accent-blue-hsl);
  --accent-current-rgb: var(--accent-blue-rgb);
  --primary: hsl(var(--accent-blue-hsl));
}

:root[data-accent="pink"] {
  --accent-current-hsl: var(--accent-pink-hsl);
  --accent-current-rgb: var(--accent-pink-rgb);
  --primary: hsl(var(--accent-pink-hsl));
}

:root[data-accent="green"] {
  --accent-current-hsl: var(--accent-green-hsl);
  --accent-current-rgb: var(--accent-green-rgb);
  --primary: hsl(var(--accent-green-hsl));
}

:root[data-accent="orange"] {
  --accent-current-hsl: var(--accent-orange-hsl);
  --accent-current-rgb: var(--accent-orange-rgb);
  --primary: hsl(var(--accent-orange-hsl));
}

/* Dark theme */
.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.145 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.145 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.985 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.985 0 0);
  --muted: oklch(0.269 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.269 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.637 0.237 25.331);
  --border: oklch(0.269 0 0);
  --input: oklch(0.269 0 0);
  --ring: oklch(0.439 0 0);
}

@layer base {
  /* Headline display font */
  @font-face {
    font-family: "Inter Display";
    src: url("/fonts/Inter-Bold.woff") format("woff");
    font-weight: 800;
    font-style: normal;
    font-display: swap;
  }

  * {
    border-color: var(--border);
    outline-color: oklch(from var(--ring) l c h / 0.5);
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  *::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }

  html,
  body {
    overflow-x: hidden;
    width: 100%;
    margin: 0;
    padding: 0;
    /* Improve touch scrolling on mobile */
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: none;
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    width: 100%;
    overflow-x: hidden;
    font-feature-settings: "rlig" 1, "calt" 1;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, "Helvetica Neue", Arial, sans-serif;
    /* Prevent pull-to-refresh on mobile */
    overscroll-behavior: contain;
  }

  /* Enhanced focus styles */
  *:focus-visible {
    outline: 2px solid var(--accent-current);
    outline-offset: 2px;
  }

  /* Smooth scrolling - native on all devices */
  html {
    scroll-behavior: smooth;
  }

  /* Optimize scrolling performance on mobile */
  @media (max-width: 768px) {
    html {
      /* Use auto scroll on mobile for better touch response */
      scroll-behavior: auto;
    }

    body {
      /* Avoid transforms here so fixed UI (nav/back-to-top) stays anchored */
      -webkit-transform: none;
      transform: none;
    }
  }

  /* Selection styles */
  ::selection {
    background-color: rgba(var(--accent-current-rgb), 0.3);
    color: var(--foreground);
  }

  ::-moz-selection {
    background-color: rgba(var(--accent-current-rgb), 0.3);
    color: var(--foreground);
  }
}

@layer components {
  /* Project reel */
  .project-reel {
    overflow: hidden;
    width: 100%;
  }
  .project-reel-track {
    display: inline-flex;
    gap: 1rem;
    padding-block: 0.25rem;
    animation: reel-scroll 30s linear infinite;
    will-change: transform;
  }
  .reel-item {
    flex: 0 0 auto;
  }
  .mask-fade-x {
    -webkit-mask-image: linear-gradient(
      90deg,
      transparent,
      #000 10%,
      #000 90%,
      transparent
    );
    mask-image: linear-gradient(
      90deg,
      transparent,
      #000 10%,
      #000 90%,
      transparent
    );
  }

  @keyframes reel-scroll {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-50%);
    }
  }

  /* Performance optimizations */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    .project-reel-track {
      animation: none;
    }

    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

@layer utilities {
  /* Typography */
  .heading-eyebrow {
    font-size: 0.75rem;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: color-mix(in oklch, var(--foreground) 60%, transparent);
  }
  @media (min-width: 640px) {
    .heading-eyebrow {
      font-size: 0.8125rem;
    }
  }

  .heading-display {
    font-weight: 800;
    line-height: 1.05;
    text-transform: uppercase;
    font-size: clamp(2.25rem, 6vw, 3.5rem);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, "Helvetica Neue", Arial, sans-serif;
  }
  @media (min-width: 1024px) {
    .heading-display {
      font-family: "Inter Display", system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    }
  }

  /* Thin accent rule helper */
  .accent-rule {
    height: 1px;
    width: 4rem;
    background-color: var(--accent-current);
  }
  @media (min-width: 768px) {
    .accent-rule {
      width: 5rem;
    }
  }
}

/* Orbit animation for OrbitingCircles */
.animate-orbit {
  animation: orbit calc(var(--duration) * 1s) linear infinite;
}

.animate-orbit-reverse {
  animation: orbit-reverse calc(var(--duration) * 1s) linear infinite;
}

@keyframes orbit {
  0% {
    transform: rotate(calc(var(--angle) * 1deg))
      translateY(calc(var(--radius) * 1px)) rotate(calc(var(--angle) * -1deg));
  }
  100% {
    transform: rotate(calc(var(--angle) * 1deg + 360deg))
      translateY(calc(var(--radius) * 1px))
      rotate(calc((var(--angle) * -1deg) - 360deg));
  }
}

@keyframes orbit-reverse {
  0% {
    transform: rotate(calc(var(--angle) * 1deg))
      translateY(calc(var(--radius) * 1px)) rotate(calc(var(--angle) * -1deg));
  }
  100% {
    transform: rotate(calc(var(--angle) * 1deg - 360deg))
      translateY(calc(var(--radius) * 1px))
      rotate(calc((var(--angle) * -1deg) + 360deg));
  }
}
